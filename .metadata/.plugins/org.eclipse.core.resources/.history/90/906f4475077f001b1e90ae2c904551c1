package protocol3.commands;

import java.util.UUID;

import org.bukkit.Bukkit;
import org.bukkit.OfflinePlayer;
import org.bukkit.command.Command;
import org.bukkit.command.CommandSender;
import org.bukkit.entity.Player;

import net.md_5.bungee.api.chat.TextComponent;
import protocol3.backend.PlayerMeta;

public class Server
{
	public boolean onCommand(CommandSender sender, Command command, String label, String[] args) 
	{
		if(sender instanceof Player) {
			Player player = (Player) sender;
		player.spigot().sendMessage(
				new TextComponent("§cunique players (§eall§c):§7 " + Bukkit.getOfflinePlayers().length));
		player.spigot().sendMessage(new TextComponent(
				"§cunique players (§etracking stats§c):§7 " + PlayerMeta.Playtimes.keySet().size()));
		player.spigot().sendMessage(new TextComponent("§cdonators:§7 " + PlayerMeta._donatorList.size()));
		player.spigot().sendMessage(new TextComponent("§clagfags:§7 " + PlayerMeta._lagfagList.size()));
		String muted = "";
		for (UUID uuid : PlayerMeta._permanentMutes)
		{
			muted = muted + Bukkit.getOfflinePlayer(uuid).getName() + ", ";
		}
		player.spigot().sendMessage(new TextComponent(
				"§cpermanently muted:§7 " + PlayerMeta._permanentMutes.size() + "; " + muted));
		String ops = "";
		for (OfflinePlayer offp : Bukkit.getOperators())
		{
			ops = ops + offp.getName() + ", ";
		}
		player.spigot()
				.sendMessage(new TextComponent("§coperators:§7 " + Bukkit.getOperators().size() + "; " + ops));
		}
	}
}
