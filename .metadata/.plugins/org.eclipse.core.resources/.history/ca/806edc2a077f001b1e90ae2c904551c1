package protocol3.tasks;

import java.util.TimerTask;

import protocol3.Main;
import protocol3.backend.LagProcessor;
import protocol3.backend.Scheduler;
import protocol3.commands.VoteMute;

// Tps processor
public class OnTick extends TimerTask
{

	@Override
	public void run()
	{
		VoteMute.processVoteCooldowns();
		
		if(LagProcessor.getTPS() < 9 && !Main.alreadyRestarting) 
		{
			Main.alreadyRestarting = true;
			Main.cleanRestart();
		}

		Scheduler.setLastTaskId("tickTasks");
	}
}